<!-- Chosen Palette: Warm Professional - Background: Stone-50, Text: Stone-800, Primary Accent: Slate-700, Secondary Accent: Emerald-600 (for savings/positive numbers) -->

<!-- Application Structure Plan: 
    1. Hero Section: Direct value proposition.
    2. Analysis Cards: "Why are costs high?" (The 3 cards requested).
    3. Live Simulator: Interactive calculation with Chart.js.
    4. Diagnostic Journey (Multi-step Form): 
       - Step 1: Current Costs (Image 1 & 2 content).
       - Step 2: Labor Compliance & Subsidy Status (Image 3 content).
       - Step 3: Hiring Plan (Image 4 content).
       - Step 4: Contact Info.
    5. Result Engine: Logic to display S/A/B Rank messages (Image 5 content) before/during final submission.
-->

<!-- Visualization & Content Choices:
    1. Why High Cost Cards -> Grid Layout -> Visualizing pitfalls.
    2. Cost Simulation -> Chart.js -> Real-time visual impact of hiring volume.
    3. Diagnostic Logic -> JS Array Mapping -> Dynamic ranking (S, A, B) based on source images.
    4. Formspree Integration -> Direct Email Delivery.
-->

<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‰¹å®šæŠ€èƒ½æ¡ç”¨ãƒ»åŠ´å‹™ã‚³ã‚¹ãƒˆé«˜ç²¾åº¦è¨ºæ–­ãƒ„ãƒ¼ãƒ«</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #fcfaf8;
            color: #292524;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        .step-panel { display: none; }
        .step-panel.active { display: block; animation: slideUp 0.4s ease-out; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Result Rank Styles */
        .rank-s { border-top: 10px solid #10b981; background: #ecfdf5; }
        .rank-a { border-top: 10px solid #3b82f6; background: #eff6ff; }
        .rank-b { border-top: 10px solid #f59e0b; background: #fffbeb; }

        input[type=range] { -webkit-appearance: none; background: transparent; }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 24px; width: 24px; border-radius: 50%;
            background: #4b5563; cursor: pointer; margin-top: -8px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 8px; cursor: pointer; background: #e5e7eb; border-radius: 4px;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <span class="text-xl font-bold text-slate-800 tracking-tighter">LEGAL & LABOR EXPERT</span>
                <div class="hidden md:flex space-x-6">
                    <a href="#why-high" class="text-sm font-medium text-gray-500 hover:text-slate-800">é«˜ã‚³ã‚¹ãƒˆã®ç†ç”±</a>
                    <a href="#simulator" class="text-sm font-medium text-gray-500 hover:text-slate-800">ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</a>
                    <a href="#diagnostic" class="bg-slate-800 text-white px-5 py-2 rounded-full text-xs hover:bg-slate-700 transition">ç„¡æ–™è¨ºæ–­</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <header class="bg-slate-900 text-white py-24 relative overflow-hidden">
        <div class="max-w-5xl mx-auto px-4 text-center relative z-10">
            <h1 class="text-3xl md:text-5xl font-bold mb-6 leading-tight">
                ãã®ç‰¹å®šæŠ€èƒ½ã®æ¡ç”¨ã‚³ã‚¹ãƒˆã€<br><span class="text-emerald-400">ã€Œå£«æ¥­é€£æºã€ã§åŠåˆ†ä»¥ä¸‹</span>ã«ãªã‚Šã¾ã™
            </h1>
            <p class="text-lg md:text-xl text-slate-300 max-w-3xl mx-auto mb-10 leading-relaxed">
                è¡Œæ”¿æ›¸å£«ï¼ˆãƒ“ã‚¶ï¼‰Ã— ç¤¾åŠ´å£«ï¼ˆåŠ©æˆé‡‘ãƒ»åŠ´å‹™ï¼‰ã®ã‚·ãƒŠã‚¸ãƒ¼ã§å®Ÿç¾ã™ã‚‹ã€<br>
                ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹éµå®ˆã¨å¤§å¹…ãªã‚³ã‚¹ãƒˆå‰Šæ¸›ã®åŒæ™‚é”æˆã€‚
            </p>
            <a href="#diagnostic" class="bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-4 px-12 rounded-full transition shadow-2xl inline-block text-lg">
                è¨ºæ–­ã‚’é–‹å§‹ã—ã¦è©¦ç®—è¡¨ã‚’ã‚‚ã‚‰ã†
            </a>
        </div>
    </header>

    <main class="flex-grow">

        <!-- Section 1: Why Cost is High (Cards) -->
        <section id="why-high" class="py-20 px-4 max-w-6xl mx-auto scroll-mt-20">
            <div class="text-center mb-16">
                <span class="text-emerald-600 font-bold uppercase tracking-widest text-xs">Analysis</span>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mt-2">ãªãœç‰¹å®šæŠ€èƒ½ã®æ¡ç”¨ã‚³ã‚¹ãƒˆã¯é«˜ã„ã®ã‹ï¼Ÿ</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="p-10 bg-white rounded-3xl border border-gray-100 shadow-sm transition hover:shadow-md">
                    <div class="text-4xl mb-6">ğŸš«</div>
                    <h3 class="font-bold text-xl mb-4">åŠ©æˆé‡‘ã®æ´»ç”¨æ¼ã‚Œ</h3>
                    <p class="text-sm text-gray-500 leading-relaxed">
                        ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒƒãƒ—åŠ©æˆé‡‘ã®ã€Œè¨ˆç”»å±Šã€ã‚’æ¡ç”¨å‰ã«è¡Œã†ã ã‘ã§ã€1åã‚ãŸã‚Šæœ€å¤§80ä¸‡å††ã€œ100ä¸‡å††ã®é‚„ä»˜ãŒå¯èƒ½ã§ã™ã€‚å¤šãã®ç´¹ä»‹ä¼šç¤¾ã¯ã“ã®æ¡ˆå†…ã‚’ã—ã¾ã›ã‚“ã€‚
                    </p>
                </div>
                <div class="p-10 bg-white rounded-3xl border border-gray-100 shadow-sm transition hover:shadow-md">
                    <div class="text-4xl mb-6">ğŸ“‚</div>
                    <h3 class="font-bold text-xl mb-4">åˆ†æ–­ã•ã‚ŒãŸã‚³ã‚¹ãƒˆæ§‹é€ </h3>
                    <p class="text-sm text-gray-500 leading-relaxed">
                        ç´¹ä»‹ä¼šç¤¾ã¨è¡Œæ”¿æ›¸å£«ãŒåˆ¥ã€…ã ã¨ã€æ‰‹ç¶šããŒé‡è¤‡ã—ã€ãã‚Œãã‚Œã®ãƒãƒ¼ã‚¸ãƒ³ãŒä¸Šä¹—ã›ã•ã‚Œã¾ã™ã€‚å†…è£½åŒ–ã•ã‚ŒãŸå£«æ¥­é€£æºãªã‚‰ã€ã“ã®ç„¡é§„ã‚’æ’é™¤ã§ãã¾ã™ã€‚
                    </p>
                </div>
                <div class="p-10 bg-white rounded-3xl border border-gray-100 shadow-sm transition hover:shadow-md">
                    <div class="text-4xl mb-6">ğŸ“</div>
                    <h3 class="font-bold text-xl mb-4">æ³•æ”¹æ­£ã¸ã®æœªå¯¾å¿œãƒªã‚¹ã‚¯</h3>
                    <p class="text-sm text-gray-500 leading-relaxed">
                        2026å¹´æ”¹æ­£ã§æ›¸é¡ä½œæˆãƒ«ãƒ¼ãƒ«ãŒå³æ ¼åŒ–ã€‚ç„¡è³‡æ ¼è€…ã«ã‚ˆã‚‹æ”¯æ´ã¯ä¼æ¥­ã®æ³•çš„ãƒªã‚¹ã‚¯ã‚’å¢—å¤§ã•ã›ã€å°†æ¥çš„ãªä¸æ³•å°±åŠ´åŠ©é•·ã®ãƒªã‚¹ã‚¯ã«ã‚‚ç¹‹ãŒã‚Šã¾ã™ã€‚
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 2: Simulator -->
        <section id="simulator" class="py-20 bg-slate-50 border-y border-gray-200 scroll-mt-20">
            <div class="max-w-7xl mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-900">æ¡ç”¨ã‚³ã‚¹ãƒˆãƒ»ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆè©¦ç®—</h2>
                    <p class="text-gray-500 mt-2">ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚’å‹•ã‹ã—ã¦ã€Œäººæ•°ã«å¿œã˜ãŸå‰Šæ¸›é¡ã€ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
                </div>

                <div class="bg-white p-8 rounded-3xl shadow-xl border border-gray-100 mb-12 max-w-3xl mx-auto">
                    <div class="flex justify-between items-end mb-6">
                        <span class="text-xs font-bold text-gray-400 tracking-widest uppercase">Target Hires</span>
                        <div>
                            <span id="hiresCount" class="text-5xl font-bold text-slate-800">1</span>
                            <span class="text-xl text-gray-500">å</span>
                        </div>
                    </div>
                    <input type="range" id="hiresRange" min="1" max="15" value="1" class="w-full h-3 rounded-full appearance-none cursor-pointer">
                    <div class="mt-8 flex justify-between items-center bg-emerald-600 text-white p-6 rounded-2xl shadow-lg">
                        <span class="font-bold text-lg">ç·å‰Šæ¸›ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«</span>
                        <span class="text-3xl font-bold"><span id="savingsAmount">850,000</span>å††</span>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                        <h4 class="text-sm font-bold text-gray-400 mb-4 text-center">åˆæœŸè²»ç”¨ã®å†…è¨³æ¯”è¼ƒ</h4>
                        <div class="chart-container"><canvas id="breakdownChart"></canvas></div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                        <h4 class="text-sm font-bold text-gray-400 mb-4 text-center">å®Ÿè³ªçš„ãªç´¯è¨ˆè² æ‹…é¡</h4>
                        <div class="chart-container"><canvas id="netImpactChart"></canvas></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Diagnostic Form (Multi-step) -->
        <section id="diagnostic" class="py-24 px-4 max-w-4xl mx-auto scroll-mt-20">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900">è‡ªå‹•è¨ºæ–­ãƒ»ã‚³ã‚¹ãƒˆå‰Šæ¸›ãƒ—ãƒ©ãƒ³ä½œæˆ</h2>
                <p class="text-gray-500 mt-4">ç¾åœ¨ã®çŠ¶æ³ã‚’é¸æŠã™ã‚‹ã ã‘ã§ã€æœ€é©ãªãƒ©ãƒ³ã‚¯åˆ¤å®šã‚’è¡Œã„ã¾ã™ã€‚</p>
            </div>

            <!-- Unified Form -->
            <form id="masterForm" action="https://formspree.io/f/h.sugiyama0613@gmail.com" method="POST" class="bg-white p-8 md:p-12 rounded-3xl shadow-2xl border border-gray-200">
                
                <!-- Panel 1: Current Status -->
                <div id="panel-1" class="step-panel active">
                    <div class="flex items-center mb-8">
                        <span class="bg-slate-800 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mr-3">1</span>
                        <h3 class="text-xl font-bold">ç¾çŠ¶ã‚³ã‚¹ãƒˆã®æŠŠæ¡ï¼ˆãƒªãƒ—ãƒ¬ã‚¤ã‚¹ææ¡ˆç”¨ï¼‰</h3>
                    </div>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-3">ç¾åœ¨ã®å¤–å›½äººé›‡ç”¨çŠ¶æ³</label>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <label class="border-2 p-4 rounded-xl cursor-pointer hover:border-slate-800 transition flex items-center bg-slate-50">
                                    <input type="radio" name="ç¾çŠ¶ã®é›‡ç”¨çŠ¶æ³" value="é›‡ç”¨ã—ã¦ã„ã‚‹" class="mr-3" checked> æ—¢ã«é›‡ç”¨ã—ã¦ã„ã‚‹
                                </label>
                                <label class="border-2 p-4 rounded-xl cursor-pointer hover:border-slate-800 transition flex items-center bg-slate-50">
                                    <input type="radio" name="ç¾çŠ¶ã®é›‡ç”¨çŠ¶æ³" value="ã“ã‚Œã‹ã‚‰é›‡ç”¨ã—ãŸã„" class="mr-3"> ã“ã‚Œã‹ã‚‰é›‡ç”¨ã—ãŸã„
                                </label>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-3">ç¾åœ¨ã®æœˆé¡æ”¯æ´å§”è¨—è²»ï¼ˆ1åã‚ãŸã‚Šï¼‰</label>
                            <select id="currentFee" name="ç¾åœ¨ã®æ”¯æ´è²»" class="w-full p-4 bg-slate-50 border border-gray-200 rounded-xl focus:outline-none focus:border-slate-800">
                                <option value="2ä¸‡å††æœªæº€">2ä¸‡å††æœªæº€</option>
                                <option value="2ä¸‡ã€œ3ä¸‡å††" selected>2ä¸‡ã€œ3ä¸‡å††</option>
                                <option value="3ä¸‡å††ä»¥ä¸Š">3ä¸‡å††ä»¥ä¸Š</option>
                                <option value="ã‚ã‹ã‚‰ãªã„">ã‚ã‹ã‚‰ãªã„</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-3">ç¾åœ¨ã®å§”è¨—å…ˆã«å«ã¾ã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆè¤‡æ•°é¸æŠï¼‰</label>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <label class="flex items-center p-3 bg-slate-50 border rounded-lg cursor-pointer">
                                    <input type="checkbox" name="ç¾çŠ¶ã®ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹" value="ç”Ÿæ´»æ”¯æ´ã®ã¿" id="svc_life" class="mr-3 svc-check"> ç”Ÿæ´»æ”¯æ´ã®ã¿
                                </label>
                                <label class="flex items-center p-3 bg-slate-50 border rounded-lg cursor-pointer">
                                    <input type="checkbox" name="ç¾çŠ¶ã®ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹" value="ãƒ“ã‚¶æ›´æ–°æ‰‹ç¶šã" class="mr-3 svc-check"> ãƒ“ã‚¶æ›´æ–°æ‰‹ç¶šã
                                </label>
                                <label class="flex items-center p-3 bg-slate-50 border rounded-lg cursor-pointer">
                                    <input type="checkbox" name="ç¾çŠ¶ã®ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹" value="åŠ©æˆé‡‘ç”³è«‹" class="mr-3 svc-check"> åŠ©æˆé‡‘ç”³è«‹
                                </label>
                                <label class="flex items-center p-3 bg-slate-50 border rounded-lg cursor-pointer">
                                    <input type="checkbox" name="ç¾çŠ¶ã®ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹" value="åŠ´å‹™ç›¸è«‡" class="mr-3 svc-check"> åŠ´å‹™ç›¸è«‡
                                </label>
                                <label class="flex items-center p-3 bg-slate-50 border rounded-lg cursor-pointer">
                                    <input type="checkbox" name="ç¾çŠ¶ã®ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹" value="ã‚ˆãã‚ã‹ã‚‰ãªã„" class="mr-3 svc-check"> ã‚ˆãã‚ã‹ã‚‰ãªã„
                                </label>
                            </div>
                        </div>
                        <div class="text-right pt-4">
                            <button type="button" onclick="nextPanel(2)" class="bg-slate-800 text-white font-bold py-3 px-12 rounded-full hover:bg-slate-700 transition">æ¬¡ã¸</button>
                        </div>
                    </div>
                </div>

                <!-- Panel 2: Compliance & Subsidy -->
                <div id="panel-2" class="step-panel">
                    <div class="flex items-center mb-8">
                        <span class="bg-slate-800 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mr-3">2</span>
                        <h3 class="text-xl font-bold">åŠ©æˆé‡‘ãƒ»åŠ´å‹™ãƒªã‚¹ã‚¯è¨ºæ–­</h3>
                    </div>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-3">ç›´è¿‘6ãƒ¶æœˆä»¥å†…ã®ä¼šç¤¾éƒ½åˆé€€è·</label>
                            <div class="grid grid-cols-2 gap-4">
                                <label class="border-2 p-4 rounded-xl cursor-pointer hover:border-slate-800 transition flex items-center bg-slate-50">
                                    <input type="radio" name="é€€è·è€…ã®æœ‰ç„¡" value="ã‚ã‚Š" id="layoff_yes" class="mr-3"> ã‚ã‚Š
                                </label>
                                <label class="border-2 p-4 rounded-xl cursor-pointer hover:border-slate-800 transition flex items-center bg-slate-50">
                                    <input type="radio" name="é€€è·è€…ã®æœ‰ç„¡" value="ãªã—" id="layoff_no" class="mr-3" checked> ãªã—
                                </label>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-3">å°±æ¥­è¦å‰‡ã®ä½œæˆãƒ»å±Šå‡ºçŠ¶æ³</label>
                            <select id="rulesStatus" name="å°±æ¥­è¦å‰‡çŠ¶æ³" class="w-full p-4 bg-slate-50 border border-gray-200 rounded-xl">
                                <option value="å±Šå‡ºæ¸ˆã¿" id="rules_registered">å±Šå‡ºæ¸ˆã¿</option>
                                <option value="ä½œæˆã—ã¦ã„ã‚‹ãŒæœªå±Šå‡º">ä½œæˆã—ã¦ã„ã‚‹ãŒæœªå±Šå‡º</option>
                                <option value="æœªå±Šå‡º / ãªã„">æœªå±Šå‡º / ãªã„</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-3">ç¤¾ä¼šä¿é™ºãƒ»é›‡ç”¨ä¿é™ºã®åŠ å…¥çŠ¶æ³</label>
                            <select name="ç¤¾ä¿çŠ¶æ³" class="w-full p-4 bg-slate-50 border border-gray-200 rounded-xl">
                                <option value="å…¨å“¡åŠ å…¥">å…¨å“¡åŠ å…¥</option>
                                <option value="ä¸€éƒ¨åŠ å…¥">ä¸€éƒ¨åŠ å…¥</option>
                                <option value="æœªåŠ å…¥">æœªåŠ å…¥</option>
                            </select>
                        </div>
                        <div class="flex justify-between pt-4">
                            <button type="button" onclick="nextPanel(1)" class="text-gray-400 font-bold underline">æˆ»ã‚‹</button>
                            <button type="button" onclick="nextPanel(3)" class="bg-slate-800 text-white font-bold py-3 px-12 rounded-full hover:bg-slate-700 transition">æ¬¡ã¸</button>
                        </div>
                    </div>
                </div>

                <!-- Panel 3: Plan & Contact -->
                <div id="panel-3" class="step-panel">
                    <div class="flex items-center mb-8">
                        <span class="bg-slate-800 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mr-3">3</span>
                        <h3 class="text-xl font-bold">æ¡ç”¨è¨ˆç”»ã¨ã”é€£çµ¡å…ˆ</h3>
                    </div>
                    <div class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-xs font-bold text-gray-400 mb-2 uppercase">æ¡ç”¨äºˆå®šäººæ•° (1å¹´ä»¥å†…)</label>
                                <select name="äºˆå®šäººæ•°" class="w-full p-3 bg-slate-50 border rounded-lg">
                                    <option value="1ã€œ2å">1ã€œ2å</option>
                                    <option value="3ã€œ5å">3ã€œ5å</option>
                                    <option value="6ã€œ10å">6ã€œ10å</option>
                                    <option value="11åä»¥ä¸Š">11åä»¥ä¸Š</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-400 mb-2 uppercase">å¸Œæœ›ã™ã‚‹è·ç¨®</label>
                                <select name="å¸Œæœ›è·ç¨®" class="w-full p-3 bg-slate-50 border rounded-lg">
                                    <option value="è£½é€  (é£Ÿå“ãƒ»é‡‘å±)">è£½é€  (é£Ÿå“ãƒ»é‡‘å±)</option>
                                    <option value="å»ºè¨­">å»ºè¨­</option>
                                    <option value="ç‰©æµãƒ»é‹é€">ç‰©æµãƒ»é‹é€</option>
                                    <option value="å¤–é£Ÿ">å¤–é£Ÿ</option>
                                    <option value="ãã®ä»–">ãã®ä»–</option>
                                </select>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <input type="text" name="ä¼šç¤¾å" placeholder="è²´ç¤¾å" class="p-4 bg-slate-50 border rounded-lg w-full" required>
                            <input type="text" name="æ‹…å½“è€…å" placeholder="ãŠåå‰" class="p-4 bg-slate-50 border rounded-lg w-full" required>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <input type="email" name="_replyto" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" class="p-4 bg-slate-50 border rounded-lg w-full" required>
                            <input type="tel" name="é›»è©±ç•ªå·" placeholder="é›»è©±ç•ªå·" class="p-4 bg-slate-50 border rounded-lg w-full" required>
                        </div>

                        <div class="pt-6">
                            <button type="button" onclick="processDiagnosis()" class="w-full bg-emerald-600 text-white font-bold py-5 rounded-full hover:bg-emerald-500 transition shadow-xl text-xl">
                                è¨ºæ–­çµæœã‚’è¡¨ç¤ºã—ã¦é€ä¿¡ã™ã‚‹
                            </button>
                        </div>
                    </div>
                </div>

                <input type="hidden" name="è¨ºæ–­ãƒ©ãƒ³ã‚¯" id="rankInput" value="">
            </form>

            <!-- Result Display Area -->
            <div id="resultDisplay" class="hidden mt-12 p-10 rounded-3xl shadow-2xl transition-all duration-700">
                <div id="rankLabel" class="inline-block px-4 py-1 rounded-full text-white font-bold text-xs mb-4 uppercase tracking-widest">RANK</div>
                <h4 id="resultTitle" class="text-2xl font-bold text-gray-900 mb-6">åˆ¤å®šçµæœ</h4>
                <p id="resultMessage" class="text-gray-700 leading-relaxed mb-8 text-lg"></p>
                <div class="bg-white/40 p-6 rounded-2xl border border-white/20">
                    <p class="text-sm font-bold text-gray-500 mb-2">ä»Šå¾Œã®æµã‚Œï¼š</p>
                    <p class="text-gray-800">å…¥åŠ›æƒ…å ±ã¯ `h.sugiyama0613@gmail.com` ã¸é€ä¿¡ã•ã‚Œã¾ã—ãŸã€‚å°‚é–€ã‚¹ã‚¿ãƒƒãƒ•ãŒå…·ä½“çš„ãªå‰Šæ¸›è©¦ç®—è¡¨ã‚’ä½œæˆã—ã€1å–¶æ¥­æ—¥ä»¥å†…ã«ã”é€£çµ¡ã„ãŸã—ã¾ã™ã€‚</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-950 text-slate-500 py-12 px-4 text-center text-sm">
        <div class="max-w-7xl mx-auto">
            <p>&copy; 2026 Specified Skilled Worker Legal Solution. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Constants for logic
        const BASE = { intro: 600000, visa: 150000, admin: 40000, subsidy: 0 };
        const SYNERGY = { intro: 600000, visa: 100000, admin: 40000, subsidy: 1000000 };

        let chartB = null;
        let chartN = null;

        document.addEventListener('DOMContentLoaded', () => {
            initCharts();
            updateSimulator(1);
            
            document.getElementById('hiresRange').addEventListener('input', (e) => {
                const n = parseInt(e.target.value);
                document.getElementById('hiresCount').textContent = n;
                updateSimulator(n);
            });
        });

        function initCharts() {
            Chart.defaults.font.family = "'Noto Sans JP', sans-serif";
            
            const ctxB = document.getElementById('breakdownChart').getContext('2d');
            chartB = new Chart(ctxB, {
                type: 'bar',
                data: {
                    labels: ['ä¸€èˆ¬ãƒ¢ãƒ‡ãƒ«', 'å£«æ¥­é€£æºãƒ¢ãƒ‡ãƒ«'],
                    datasets: [
                        { label: 'äººæç´¹ä»‹æ–™', data: [BASE.intro, SYNERGY.intro], backgroundColor: '#cbd5e1' },
                        { label: 'ãƒ“ã‚¶ãƒ»è¡Œæ”¿æ‰‹ç¶šè²»', data: [BASE.visa + BASE.admin, SYNERGY.visa + SYNERGY.admin], backgroundColor: '#475569' }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false, scales: { x: { stacked: true }, y: { stacked: true, beginAtZero: true } } }
            });

            const ctxN = document.getElementById('netImpactChart').getContext('2d');
            chartN = new Chart(ctxN, {
                type: 'bar',
                data: {
                    labels: ['ä¸€èˆ¬ãƒ¢ãƒ‡ãƒ«', 'å£«æ¥­é€£æºãƒ¢ãƒ‡ãƒ«'],
                    datasets: [{
                        label: 'å®Ÿè³ªç´¯è¨ˆè² æ‹…é¡',
                        data: [790000, -210000],
                        backgroundColor: (c) => c.raw > 0 ? '#f87171' : '#10b981'
                    }]
                },
                options: { 
                    responsive: true, maintainAspectRatio: false, 
                    plugins: { legend: { display: false } },
                    scales: { y: { ticks: { callback: v => v.toLocaleString() + 'å††' } } }
                }
            });
        }

        function updateSimulator(n) {
            const gTotal = (BASE.intro + BASE.visa + BASE.admin) * n;
            const sCost = (SYNERGY.intro + SYNERGY.visa + SYNERGY.admin) * n;
            const sSub = SYNERGY.subsidy * n;
            const sNet = sCost - sSub;
            document.getElementById('savingsAmount').textContent = (gTotal - sNet).toLocaleString();

            if(chartB) {
                chartB.data.datasets[0].data = [BASE.intro * n, SYNERGY.intro * n];
                chartB.data.datasets[1].data = [(BASE.visa + BASE.admin) * n, (SYNERGY.visa + SYNERGY.admin) * n];
                chartB.update();
            }
            if(chartN) {
                chartN.data.datasets[0].data = [gTotal, sNet];
                chartN.update();
            }
        }

        window.nextPanel = function(id) {
            document.querySelectorAll('.step-panel').forEach(p => p.classList.remove('active'));
            document.getElementById(`panel-${id}`).classList.add('active');
            document.getElementById('diagnostic').scrollIntoView();
        };

        window.processDiagnosis = function() {
            const form = document.getElementById('masterForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            // Diagnostic Logic based on images
            const isRegistered = document.getElementById('rulesStatus').value === "å±Šå‡ºæ¸ˆã¿";
            const noLayoff = document.getElementById('layoff_no').checked;
            const isHighFee = document.getElementById('currentFee').value === "3ä¸‡å††ä»¥ä¸Š";
            const svcChecks = document.querySelectorAll('.svc-check:checked');
            const isLifeOnly = svcChecks.length === 1 && svcChecks[0].id === "svc_life";

            let rank = "C";
            let title = "è¨ºæ–­å®Œäº†ï¼šæ¨™æº–ãƒ—ãƒ©ãƒ³ã®é©ç”¨ãŒå¯èƒ½ã§ã™";
            let msg = "è²´ç¤¾ã®çŠ¶æ³ã«åŸºã¥ãã€æœ€ã‚‚åŠ¹ç‡çš„ãªæ¡ç”¨ãƒ«ãƒ¼ãƒˆã‚’ã”ææ¡ˆã—ã¾ã™ã€‚è¿½ã£ã¦è³‡æ–™ã‚’é€ä»˜ã„ãŸã—ã¾ã™ã€‚";
            let rankColor = "bg-gray-500";
            let panelClass = "bg-gray-50";

            // LOGIC S: S Rank (Immediate Consultation)
            if (isRegistered && noLayoff) {
                rank = "S";
                title = "åˆ¤å®šï¼šSãƒ©ãƒ³ã‚¯ï¼ˆå³å•†è«‡æ¨å¥¨ï¼‰";
                msg = "ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚å¾¡ç¤¾ã¯1åæ¡ç”¨ã«ã¤ãæœ€å¤§80ä¸‡å††ã€œ100ä¸‡å††ã®åŠ©æˆé‡‘å¯¾è±¡ã¨ãªã‚‹å¯èƒ½æ€§ãŒæ¥µã‚ã¦é«˜ã„ã§ã™ã€‚å…·ä½“çš„ãªå—çµ¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ¡ˆã‚’å„ªå…ˆçš„ã«ä½œæˆã—ã¾ã—ãŸã€‚";
                rankColor = "bg-emerald-600";
                panelClass = "rank-s";
            } 
            // LOGIC A: A Rank (Replace Guarantee)
            else if (isHighFee && isLifeOnly) {
                rank = "A";
                title = "åˆ¤å®šï¼šAãƒ©ãƒ³ã‚¯ï¼ˆãƒªãƒ—ãƒ¬ã‚¤ã‚¹æ¨å¥¨ï¼‰";
                msg = "ç¾åœ¨ã€å¹´é–“æ•°ç™¾ä¸‡å††ã®ã€æ‰•ã„éãã€ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚å½“ç¤¾ã«åˆ‡ã‚Šæ›¿ãˆã‚Œã°ã€ç¾çŠ¶ã®è²»ç”¨ã®ã¾ã¾ã§ã€è¡Œæ”¿æ›¸å£«ã«ã‚ˆã‚‹ãƒ“ã‚¶ç®¡ç†ã€ã¨ã€ç¤¾åŠ´å£«ã«ã‚ˆã‚‹åŠ´å‹™é¡§å•ã€ã®2ã¤ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚";
                rankColor = "bg-blue-600";
                panelClass = "rank-a";
            }
            // LOGIC B: B Rank (Risk Focus)
            else if (!noLayoff) {
                rank = "B";
                title = "åˆ¤å®šï¼šBãƒ©ãƒ³ã‚¯ï¼ˆæ³•å‹™ãƒªã‚¹ã‚¯å¯¾ç­–æ¨å¥¨ï¼‰";
                msg = "ç›´è¿‘ã§ä¼šç¤¾éƒ½åˆã®é€€è·ãŒã‚ã‚‹ãŸã‚åŠ©æˆé‡‘ã®å—çµ¦ã¯é›£ã—ã„æ™‚æœŸã§ã™ãŒã€é€†ã«åŠ´å‹™ãƒˆãƒ©ãƒ–ãƒ«ã®ãƒªã‚¹ã‚¯ãŒé«˜ã¾ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãšã¯æ³•çš„ãƒªã‚¹ã‚¯ã®ç„¡æ–™è¨ºæ–­ã‹ã‚‰å§‹ã‚ã¾ã›ã‚“ã‹ï¼Ÿ";
                rankColor = "bg-amber-500";
                panelClass = "rank-b";
            }

            // Display Results
            const display = document.getElementById('resultDisplay');
            display.className = `mt-12 p-10 rounded-3xl shadow-2xl transition-all duration-700 ${panelClass}`;
            document.getElementById('rankLabel').className = `inline-block px-4 py-1 rounded-full text-white font-bold text-xs mb-4 uppercase tracking-widest ${rankColor}`;
            document.getElementById('rankLabel').textContent = `RANK ${rank}`;
            document.getElementById('resultTitle').textContent = title;
            document.getElementById('resultMessage').textContent = msg;
            display.classList.remove('hidden');

            // Set rank for email
            document.getElementById('rankInput').value = rank;

            // Submit form to Formspree
            form.submit();
        };
    </script>
</body>
</html>

